(self.webpackChunkrick_and_morty_gql=self.webpackChunkrick_and_morty_gql||[]).push([[18],{4018:(t,r,e)=>{"use strict";e.r(r),e.d(r,{FavoritosModule:()=>u});var o=e(1116),a=e(7197),i=e(8619),s=e(6961),n=e(2795);function c(t,r){1&t&&(i.TgZ(0,"div",5),i.TgZ(1,"p",6),i._uU(2,"No has agregado ningun favorito"),i.qZA(),i._UZ(3,"img",7),i.qZA())}function l(t,r){1&t&&i._UZ(0,"app-card-personaje",8),2&t&&i.Q6J("personaje",r.$implicit)}const g=[{path:"",component:(()=>{class t{constructor(t){this.favoritosSvc=t,this.favorites$=this.favoritosSvc.charactersFavorites$}ngOnInit(){}}return t.\u0275fac=function(r){return new(r||t)(i.Y36(s.I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-favoritos"]],decls:8,vars:8,consts:[[1,"favoritos"],[1,"container"],["class","sin-favoritos",4,"ngIf"],[1,"favoritos__container"],["class","card-personaje",3,"personaje",4,"ngFor","ngForOf"],[1,"sin-favoritos"],[1,"sin-favoritos__title"],["src","../../../assets/img/bg-favoritos.png","alt","Rick and Morty","title","Rick and Morty","rel","preload","as","image",1,"sin-favoritos__img"],[1,"card-personaje",3,"personaje"]],template:function(t,r){1&t&&(i.TgZ(0,"section",0),i.TgZ(1,"div",1),i.YNc(2,c,4,0,"div",2),i.ALo(3,"json"),i.ALo(4,"async"),i.TgZ(5,"div",3),i.YNc(6,l,1,1,"app-card-personaje",4),i.ALo(7,"async"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("ngIf",i.lcZ(3,2,i.lcZ(4,4,r.favorites$)).length<=2),i.xp6(4),i.Q6J("ngForOf",i.lcZ(7,6,r.favorites$)))},directives:[o.O5,o.sg,n.u],pipes:[o.Ts,o.Ov],styles:[".favoritos__container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin:5rem auto;grid-gap:2rem;gap:2rem}.sin-favoritos[_ngcontent-%COMP%]{margin:5rem auto;text-align:center}.sin-favoritos__title[_ngcontent-%COMP%]{font-size:2.5rem;color:#a9a9a9;max-width:600px;margin:0 auto 2rem;font-weight:600;line-height:4rem}.sin-favoritos__img[_ngcontent-%COMP%]{max-width:400px;opacity:.7}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[a.Bz.forChild(g)],a.Bz]}),t})();var f=e(5530);let u=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o.ez,v,f.K]]}),t})()},6961:(t,r,e)=>{"use strict";e.d(r,{I:()=>n});var o=e(8512),a=e(8619),i=e(3492);const s="myfovorites";let n=(()=>{class t{constructor(t){this.toastr=t,this.charactersFavoritesSubject=new o.X(null),this.charactersFavorites$=this.charactersFavoritesSubject.asObservable(),this.initialStorage()}initialStorage(){JSON.parse(localStorage.getItem(s))||localStorage.setItem(s,JSON.stringify([])),this.getFavorites()}getFavorites(){try{const t=JSON.parse(localStorage.getItem(s));return this.charactersFavoritesSubject.next(t),t}catch(t){return console.error("Error al obtener los favoritos del Local Storage.",t),[]}}toggleFavorito(t){t.isFavorite=!t.isFavorite,this.getFavorites().find(r=>r.id===t.id)?this.removerFavorito(t):this.agregarFavorito(t)}agregarFavorito(t){try{const r=this.getFavorites();localStorage.setItem(s,JSON.stringify([...r,t])),this.charactersFavoritesSubject.next([...r,t]),this.toastr.success("Se agrego a tus Favoritos ",t.name,{timeOut:1e3})}catch(r){console.error("Error al guardar el favorito en el Local Storage.",r),this.toastr.error("Error al guardar el favorito en el Local Storage.","Hubo un error",{timeOut:3e3})}}removerFavorito(t){try{const r=this.getFavorites().filter(r=>r.id!==t.id);localStorage.setItem(s,JSON.stringify(r)),this.charactersFavoritesSubject.next([...r]),this.toastr.warning("Se removio de tus Favoritos ",t.name,{timeOut:1e3})}catch(r){console.error("Error al aliminar el favorito en el Local Storage.",r),this.toastr.error("Error al aliminar el favorito en el Local Storage.","Hubo un error",{timeOut:3e3})}}}return t.\u0275fac=function(r){return new(r||t)(a.LFG(i._W))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);