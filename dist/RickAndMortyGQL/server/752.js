exports.id=752,exports.ids=[752],exports.modules={2996:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>pluck});var _map__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8002);function pluck(...properties){const length=properties.length;if(0===length)throw new Error("list of properties cannot be empty.");return source=>(0,_map__WEBPACK_IMPORTED_MODULE_0__.U)(function plucker(props,length){return x=>{let currentProp=x;for(let i=0;i<length;i++){const p=null!=currentProp?currentProp[props[i]]:void 0;if(void 0===p)return;currentProp=p}return currentProp}}(properties,length))(source)}},7057:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>withLatestFrom});var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5197),_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(509);function withLatestFrom(...args){return source=>{let project;"function"==typeof args[args.length-1]&&(project=args.pop());const observables=args;return source.lift(new WithLatestFromOperator(observables,project))}}class WithLatestFromOperator{constructor(observables,project){this.observables=observables,this.project=project}call(subscriber,source){return source.subscribe(new WithLatestFromSubscriber(subscriber,this.observables,this.project))}}class WithLatestFromSubscriber extends _OuterSubscriber__WEBPACK_IMPORTED_MODULE_0__.L{constructor(destination,observables,project){super(destination),this.observables=observables,this.project=project,this.toRespond=[];const len=observables.length;this.values=new Array(len);for(let i=0;i<len;i++)this.toRespond.push(i);for(let i=0;i<len;i++){let observable=observables[i];this.add((0,_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_1__.D)(this,observable,void 0,i))}}notifyNext(_outerValue,innerValue,outerIndex){this.values[outerIndex]=innerValue;const toRespond=this.toRespond;if(toRespond.length>0){const found=toRespond.indexOf(outerIndex);-1!==found&&toRespond.splice(found,1)}}notifyComplete(){}_next(value){if(0===this.toRespond.length){const args=[value,...this.values];this.project?this._tryProject(args):this.destination.next(args)}}_tryProject(args){let result;try{result=this.project.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}},752:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PersonajeModule:()=>PersonajeModule});var common=__webpack_require__(8583),router=__webpack_require__(3575),switchMap=__webpack_require__(3190),core=__webpack_require__(639),data_service=__webpack_require__(2468);function PersonajeComponent_article_0_li_47_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li",20),core.TgZ(1,"span",21),core._uU(2),core.qZA(),core.TgZ(3,"span",22),core._uU(4),core.qZA(),core.qZA()),2&rf){const episodio_r2=ctx.$implicit,idx_r3=ctx.index;core.xp6(2),core.hij("",idx_r3+1," - "),core.xp6(2),core.Oqu(episodio_r2.name)}}function PersonajeComponent_article_0_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"article",1),core.TgZ(1,"section",2),core.TgZ(2,"h1",3),core._uU(3),core.qZA(),core.TgZ(4,"div",4),core.TgZ(5,"div",5),core.TgZ(6,"figure",6),core._UZ(7,"img",7),core.qZA(),core.qZA(),core.TgZ(8,"div",8),core.TgZ(9,"div",9),core.TgZ(10,"span",10),core.ALo(11,"lowercase"),core.qZA(),core.TgZ(12,"span"),core._uU(13),core.qZA(),core._uU(14," - "),core.TgZ(15,"span"),core._uU(16),core.qZA(),core.qZA(),core.TgZ(17,"div",11),core.TgZ(18,"span",12),core._uU(19,"G\xe9nero:"),core.qZA(),core.TgZ(20,"span"),core._uU(21),core.qZA(),core.qZA(),core.TgZ(22,"div",11),core.TgZ(23,"span",12),core._uU(24,"Or\xedgen:"),core.qZA(),core.TgZ(25,"span"),core._uU(26),core.qZA(),core.qZA(),core.TgZ(27,"div",11),core.TgZ(28,"span",12),core._uU(29,"Creado:"),core.qZA(),core.TgZ(30,"span"),core._uU(31),core.ALo(32,"date"),core.qZA(),core.qZA(),core.TgZ(33,"div",11),core.TgZ(34,"span",12),core._uU(35,"Localizaci\xf3n:"),core.qZA(),core.TgZ(36,"span"),core._uU(37),core.qZA(),core.qZA(),core.TgZ(38,"div",11),core.TgZ(39,"button",13),core.NdJ("click",function PersonajeComponent_article_0_Template_button_click_39_listener(){core.CHM(_r5);return core.oxw().regresar()}),core._UZ(40,"i",14),core._uU(41," Regresar "),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(42,"div",15),core.TgZ(43,"div",16),core.TgZ(44,"h2",17),core._uU(45,"Episodios"),core.qZA(),core.TgZ(46,"ul",18),core.YNc(47,PersonajeComponent_article_0_li_47_Template,5,2,"li",19),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.xp6(3),core.Oqu(ctx_r0.personaje.name),core.xp6(4),core.Q6J("src",ctx_r0.personaje.image,core.LSH)("alt",ctx_r0.personaje.name),core.xp6(3),core.Tol(core.lcZ(11,12,ctx_r0.personaje.status)),core.xp6(3),core.Oqu(ctx_r0.personaje.status),core.xp6(3),core.Oqu(ctx_r0.personaje.species),core.xp6(5),core.Oqu(ctx_r0.personaje.gender),core.xp6(5),core.Oqu(ctx_r0.personaje.origin.name),core.xp6(5),core.Oqu(core.lcZ(32,14,ctx_r0.personaje.created)),core.xp6(6),core.Oqu(ctx_r0.personaje.location.name),core.xp6(10),core.Q6J("ngForOf",ctx_r0.personaje.episode)}}class PersonajeComponent{constructor(activateRouter,dataSvc,_location){this.activateRouter=activateRouter,this.dataSvc=dataSvc,this._location=_location}ngOnInit(){this.activateRouter.params.pipe((0,switchMap.w)(({idPersonaje:idPersonaje})=>this.dataSvc.getPersonaje(idPersonaje))).subscribe(({data:{character:character}})=>{this.personaje=character})}regresar(){this._location.back()}}PersonajeComponent.\u0275fac=function PersonajeComponent_Factory(t){return new(t||PersonajeComponent)(core.Y36(router.gz),core.Y36(data_service.D),core.Y36(common.Ye))},PersonajeComponent.\u0275cmp=core.Xpm({type:PersonajeComponent,selectors:[["app-personaje"]],decls:1,vars:1,consts:[["class","personaje",4,"ngIf"],[1,"personaje"],[1,"personaje__container","container"],[1,"personaje__titulo"],[1,"personaje__content"],[1,"detalles"],[1,"detalles__foto"],[3,"src","alt"],[1,"info"],[1,"status"],[1,"circle"],[1,"info__item"],[1,"info__desc"],[1,"btn",3,"click"],[1,"bx","bx-arrow-back"],[1,"episodios"],[1,"episodios__content","container"],[1,"episodios__titulo"],[1,"episodios__list"],["class","episodios__item",4,"ngFor","ngForOf"],[1,"episodios__item"],[1,"episodio__idx"],[1,"episodio__name"]],template:function PersonajeComponent_Template(rf,ctx){1&rf&&core.YNc(0,PersonajeComponent_article_0_Template,48,16,"article",0),2&rf&&core.Q6J("ngIf",ctx.personaje)},directives:[common.O5,common.sg],pipes:[common.i8,common.uU],styles:[".personaje[_ngcontent-%COMP%]{margin:40px 0}.personaje__content[_ngcontent-%COMP%]{display:flex;justify-content:center;grid-gap:3rem;gap:3rem;flex-wrap:wrap}.detalles[_ngcontent-%COMP%]{width:40%}.personaje__titulo[_ngcontent-%COMP%]{text-align:center;margin-bottom:2.5rem;font-size:2rem}.info[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:column;grid-gap:2rem;gap:2rem}.info__desc[_ngcontent-%COMP%]{font-weight:600;margin-right:1rem}.info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#d30000;color:#fff;border-radius:.3rem}.info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ee0303cc}.info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:scale(.96)}.status[_ngcontent-%COMP%]{font-size:1rem}.status[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:inline-block;width:.7rem;height:.7rem;background:gray;margin-right:.5rem;border-radius:50%}.status[_ngcontent-%COMP%]   .circle.alive[_ngcontent-%COMP%]{background:#0bc90b}.status[_ngcontent-%COMP%]   .circle.dead[_ngcontent-%COMP%]{background:red}.episodios[_ngcontent-%COMP%]{margin-top:60px;margin-left:auto;margin-right:auto;max-width:600px}.episodios__titulo[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.episodios__item[_ngcontent-%COMP%]{box-shadow:0 0 3px #0000004d;margin-bottom:2rem;padding:1rem 2rem}.episodio__idx[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}@media screen and (max-width:768px){.detalles[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{width:100%}}"]});const routes=[{path:"",component:PersonajeComponent}];class PersonajeRoutingModule{}PersonajeRoutingModule.\u0275fac=function PersonajeRoutingModule_Factory(t){return new(t||PersonajeRoutingModule)},PersonajeRoutingModule.\u0275mod=core.oAB({type:PersonajeRoutingModule}),PersonajeRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});class PersonajeModule{}PersonajeModule.\u0275fac=function PersonajeModule_Factory(t){return new(t||PersonajeModule)},PersonajeModule.\u0275mod=core.oAB({type:PersonajeModule}),PersonajeModule.\u0275inj=core.cJS({imports:[[common.ez,PersonajeRoutingModule]]})},2468:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>DataService});var apollo_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7945),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6215),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5257),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2996),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7057),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3342),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(639),apollo_angular__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9904),_favoritos_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7565);const QUERY=apollo_angular__WEBPACK_IMPORTED_MODULE_1__.gql`
{
  episodes{
    results{
      name
      episode
    }
  }
  characters {
    results {
      id
      name
      status
      species
      gender
      created
      origin{
        name
      }
      location{
        name
      }
      image
    }
  }
}`;class DataService{constructor(apollo,favoritosSvc){this.apollo=apollo,this.favoritosSvc=favoritosSvc,this.episodeSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.X(null),this.episodes$=this.episodeSubject.asObservable(),this.charactersSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.X(null),this.characters$=this.charactersSubject.asObservable()}getPersonaje(idPersonaje){const QUERY_BY_ID=apollo_angular__WEBPACK_IMPORTED_MODULE_1__.gql`
          {
            character(id: ${idPersonaje}) {
              id
              name
              status
              species
              gender
              created
              episode{
                name
              }
              origin{
                name
              }
              location{
                name
              }
              image
            }
          }`;return this.apollo.watchQuery({query:QUERY_BY_ID}).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.q)(1))}getNetxPage(pageNum){const QUERY_BY_PAGE=apollo_angular__WEBPACK_IMPORTED_MODULE_1__.gql`
          {
            characters(page: ${pageNum}) {
              results {
                id
                name
                status
                species
                gender
                created
                origin{
                  name
                }
                location{
                  name
                }
                image
              }
            }
          }`;this.apollo.watchQuery({query:QUERY_BY_PAGE}).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.j)("data","characters"),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.M)(this.characters$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.b)(([apiResponse,characters])=>{this.parseNewData([...characters,...apiResponse.results])})).subscribe()}getData(){this.apollo.watchQuery({query:QUERY}).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.b)(({data:{characters:characters,episodes:episodes}})=>{this.episodeSubject.next(episodes.results),this.parseNewData(characters.results)})).subscribe()}parseNewData(characters){const favoritos=this.favoritosSvc.getFavorites(),newData=characters.map(char=>{const isFav=!!favoritos.find(fav=>fav.id===char.id);return{...char,isFavorite:isFav}});this.charactersSubject.next([...newData])}}DataService.\u0275fac=function DataService_Factory(t){return new(t||DataService)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.LFG(apollo_angular__WEBPACK_IMPORTED_MODULE_8__._M),_angular_core__WEBPACK_IMPORTED_MODULE_7__.LFG(_favoritos_service__WEBPACK_IMPORTED_MODULE_0__.I))},DataService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Yz7({token:DataService,factory:DataService.\u0275fac,providedIn:"root"})},7565:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>FavoritosService});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6215),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(639),ngx_toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9344);class FavoritosService{constructor(toastr){this.toastr=toastr,this.charactersFavoritesSubject=new rxjs__WEBPACK_IMPORTED_MODULE_0__.X(null),this.charactersFavorites$=this.charactersFavoritesSubject.asObservable(),this.initialStorage()}initialStorage(){JSON.parse(localStorage.getItem("myfovorites"))||localStorage.setItem("myfovorites",JSON.stringify([])),this.getFavorites()}getFavorites(){try{const charactersFavorites=JSON.parse(localStorage.getItem("myfovorites"));return this.charactersFavoritesSubject.next(charactersFavorites),charactersFavorites}catch(error){return console.error("Error al obtener los favoritos del Local Storage.",error),[]}}toggleFavorito(favorito){favorito.isFavorite=!favorito.isFavorite;this.getFavorites().find(fav=>fav.id===favorito.id)?this.removerFavorito(favorito):this.agregarFavorito(favorito)}agregarFavorito(favorito){try{const favoritos=this.getFavorites();localStorage.setItem("myfovorites",JSON.stringify([...favoritos,favorito])),this.charactersFavoritesSubject.next([...favoritos,favorito]),this.toastr.success("Se agrego a tus Favoritos ",favorito.name,{timeOut:1e3})}catch(error){console.error("Error al guardar el favorito en el Local Storage.",error),this.toastr.error("Error al guardar el favorito en el Local Storage.","Hubo un error",{timeOut:3e3})}}removerFavorito(favorito){try{const favoritosFilter=this.getFavorites().filter(fav=>fav.id!==favorito.id);localStorage.setItem("myfovorites",JSON.stringify(favoritosFilter)),this.charactersFavoritesSubject.next([...favoritosFilter]),this.toastr.warning("Se removio de tus Favoritos ",favorito.name,{timeOut:1e3})}catch(error){console.error("Error al aliminar el favorito en el Local Storage.",error),this.toastr.error("Error al aliminar el favorito en el Local Storage.","Hubo un error",{timeOut:3e3})}}}FavoritosService.\u0275fac=function FavoritosService_Factory(t){return new(t||FavoritosService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(ngx_toastr__WEBPACK_IMPORTED_MODULE_2__._W))},FavoritosService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:FavoritosService,factory:FavoritosService.\u0275fac,providedIn:"root"})}};