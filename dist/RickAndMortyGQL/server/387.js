exports.id=387,exports.ids=[387],exports.modules={4022:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>CardPersonajeComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(639),_services_favoritos_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7565),_angular_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3575),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8583);function CardPersonajeComponent_span_8_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function CardPersonajeComponent_span_8_Template_span_click_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r3);return _angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw().favoriteToggle()}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(1,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()}}function CardPersonajeComponent_span_9_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function CardPersonajeComponent_span_9_Template_span_click_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r5);return _angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw().favoriteToggle()}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(1,"i",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()}}const _c0=function(a1){return["/personaje",a1]};class CardPersonajeComponent{constructor(favoritosSvc){this.favoritosSvc=favoritosSvc}ngOnInit(){}favoriteToggle(){this.favoritosSvc.toggleFavorito(this.personaje)}}CardPersonajeComponent.\u0275fac=function CardPersonajeComponent_Factory(t){return new(t||CardPersonajeComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_favoritos_service__WEBPACK_IMPORTED_MODULE_0__.I))},CardPersonajeComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:CardPersonajeComponent,selectors:[["app-card-personaje"]],inputs:{personaje:"personaje"},decls:29,vars:21,consts:[[1,"personajes__content"],[3,"routerLink"],[1,"personajes__img"],["rel","preload","as","image",3,"src","alt"],[1,"personajes__data"],[1,"personaje__head"],[1,"personajes__nombre",3,"routerLink"],[3,"click",4,"ngIf"],[1,"personajes__status"],[1,"personajes__circle"],[1,"personajes__first"],[1,"personajes__last"],[3,"click"],[1,"bx","bx-heart","heart","heart-inactive"],[1,"bx","bxs-heart","heart","heart-active"]],template:function CardPersonajeComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(1,"a",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"figure",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(3,"img",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(4,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(5,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(6,"a",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(8,CardPersonajeComponent_span_8_Template,2,0,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(9,CardPersonajeComponent_span_9_Template,2,0,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(10,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(11,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ALo(12,"lowercase"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(13,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(15," - "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(16,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(18,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(19,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(20,"First seen in:"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(21,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(22),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(23,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(24,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(25,"Created:"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(26,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(27),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ALo(28,"date"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_1__.VKq(17,_c0,ctx.personaje.id)),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("src",ctx.personaje.image,_angular_core__WEBPACK_IMPORTED_MODULE_1__.LSH)("alt",ctx.personaje.name),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_1__.VKq(19,_c0,ctx.personaje.id)),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.hij(" ",ctx.personaje.name," "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf",!ctx.personaje.isFavorite),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf",ctx.personaje.isFavorite),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tol(_angular_core__WEBPACK_IMPORTED_MODULE_1__.lcZ(12,13,ctx.personaje.status)),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(ctx.personaje.status),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(ctx.personaje.species),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(ctx.personaje.location.name),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_1__.lcZ(28,15,ctx.personaje.created)))},directives:[_angular_router__WEBPACK_IMPORTED_MODULE_2__.yS,_angular_common__WEBPACK_IMPORTED_MODULE_3__.O5],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.i8,_angular_common__WEBPACK_IMPORTED_MODULE_3__.uU],styles:[".personajes__content[_ngcontent-%COMP%]{display:flex;border-radius:.5rem;overflow:hidden}.personajes__img[_ngcontent-%COMP%]{max-width:220px;font-size:0;cursor:pointer}.personajes__data[_ngcontent-%COMP%]{background-color:#2e2e43;color:#fff;padding:1rem;flex-grow:1}.personajes__nombre[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.3rem;font-weight:700;color:#fff;cursor:pointer}.personajes__nombre[_ngcontent-%COMP%]:hover{color:#e9c962}.personajes__status[_ngcontent-%COMP%]{margin-bottom:1rem}.personajes__circle[_ngcontent-%COMP%]{display:inline-block;width:.5rem;height:.5rem;border-radius:50%;margin-right:.5rem;background:#636363}.personajes__circle.alive[_ngcontent-%COMP%]{background:#02e202}.personajes__circle.dead[_ngcontent-%COMP%]{background:red}.personajes__first[_ngcontent-%COMP%]{margin-bottom:1rem}.personajes__first[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .personajes__last[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#ffffff80;margin-bottom:.3rem}.personaje__head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.heart[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}.heart-active[_ngcontent-%COMP%]{color:#e9c962}"]})},5642:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>ComponentsModule});var _angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8583),_angular_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3575),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(639);class ComponentsModule{}ComponentsModule.\u0275fac=function ComponentsModule_Factory(t){return new(t||ComponentsModule)},ComponentsModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ComponentsModule}),ComponentsModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.ez,_angular_router__WEBPACK_IMPORTED_MODULE_2__.Bz]]})},5387:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HomeModule:()=>HomeModule});var common=__webpack_require__(8583),fesm2015_forms=__webpack_require__(665),ngx_infinite_scroll=__webpack_require__(2899),router=__webpack_require__(3575),core=__webpack_require__(639),data_service=__webpack_require__(2468),spinner_service=__webpack_require__(5139),card_personaje_component=__webpack_require__(4022);class SpinnerComponent{}function HomeComponent_app_card_personaje_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"app-card-personaje",9),2&rf){const personaje_r2=ctx.$implicit;core.Q6J("personaje",personaje_r2)}}function HomeComponent_ng_container_10_Template(rf,ctx){1&rf&&(core.ynx(0),core._UZ(1,"app-spinner"),core.BQk())}SpinnerComponent.\u0275fac=function SpinnerComponent_Factory(t){return new(t||SpinnerComponent)},SpinnerComponent.\u0275cmp=core.Xpm({type:SpinnerComponent,selectors:[["app-spinner"]],decls:4,vars:0,consts:[[1,"spinner"],[1,"lds-dual-ring"],[1,"spinner__text"]],template:function SpinnerComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"div",1),core.TgZ(2,"p",2),core._uU(3,"Cargando..."),core.qZA(),core.qZA())},styles:['.spinner[_ngcontent-%COMP%]{text-align:center;margin-bottom:120px}.spinner__text[_ngcontent-%COMP%]{margin-top:1rem}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:80px;height:80px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:64px;height:64px;margin:8px;border-radius:50%;border-color:#202097 #0000;border-style:solid;border-width:7px;animation:lds-dual-ring .5s linear infinite}@keyframes lds-dual-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}']});class HomeComponent{constructor(dataSvc,spinnerSvc){this.dataSvc=dataSvc,this.spinnerSvc=spinnerSvc,this.characters$=this.dataSvc.characters$,this.isLoading=this.spinnerSvc.isLoading$,this.pageNum=1,this.formBuscar=new fesm2015_forms.cw({queryBuscar:new fesm2015_forms.NI("",[fesm2015_forms.kI.required,this.trimVelidator])})}ngOnInit(){this.dataSvc.getData()}trimVelidator(control){return""===control.value.trim()?{trimVelidator:"En necesario un termino para buscar"}:null}onScroll(){this.pageNum++,this.dataSvc.getNetxPage(this.pageNum)}buscar(){console.log(this.formBuscar.controls.queryBuscar.value.trim())}}HomeComponent.\u0275fac=function HomeComponent_Factory(t){return new(t||HomeComponent)(core.Y36(data_service.D),core.Y36(spinner_service.V))},HomeComponent.\u0275cmp=core.Xpm({type:HomeComponent,selectors:[["app-home"]],decls:12,vars:8,consts:[[1,"buscar"],[1,"buscar__container","container"],[1,"buscar__form",3,"formGroup","ngSubmit"],["type","text","placeholder","Buscar","formControlName","queryBuscar",1,"buscar__input"],[1,"btn","buscar__btn",3,"disabled"],["infiniteScroll","",1,"personajes","search-results",3,"scrolled"],[1,"personajes__container","container"],["class","card-personaje",3,"personaje",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-personaje",3,"personaje"]],template:function HomeComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"section",0),core.TgZ(1,"div",1),core.TgZ(2,"form",2),core.NdJ("ngSubmit",function HomeComponent_Template_form_ngSubmit_2_listener(){return ctx.buscar()}),core._UZ(3,"input",3),core.TgZ(4,"button",4),core._uU(5,"Buscar"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(6,"section",5),core.NdJ("scrolled",function HomeComponent_Template_section_scrolled_6_listener(){return ctx.onScroll()}),core.TgZ(7,"div",6),core.YNc(8,HomeComponent_app_card_personaje_8_Template,1,1,"app-card-personaje",7),core.ALo(9,"async"),core.qZA(),core.YNc(10,HomeComponent_ng_container_10_Template,2,0,"ng-container",8),core.ALo(11,"async"),core.qZA()),2&rf&&(core.xp6(2),core.Q6J("formGroup",ctx.formBuscar),core.xp6(2),core.Q6J("disabled",!ctx.formBuscar.valid),core.xp6(4),core.Q6J("ngForOf",core.lcZ(9,4,ctx.characters$)),core.xp6(2),core.Q6J("ngIf",core.lcZ(11,6,ctx.isLoading)))},directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.u,ngx_infinite_scroll.R,common.sg,common.O5,card_personaje_component.u,SpinnerComponent],pipes:[common.Ov],styles:[".buscar[_ngcontent-%COMP%]{height:30rem;background:linear-gradient(#3c3e4499,#3c3e4499),url(bg-hero.abbff5de98bf66ea7ccb.jpg);background-repeat:no-repeat;background-position:top;background-size:cover}.buscar__container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.buscar__form[_ngcontent-%COMP%]{max-width:90%;width:500px;display:flex}.buscar__input[_ngcontent-%COMP%]{border:#3c3e4499;padding:10px 15px;outline:none;flex-grow:1;border-radius:4px 0 0 4px;font-family:Montserrat,sans-serif;font-weight:600;color:#3c3c3c;font-size:16px}.buscar__btn[_ngcontent-%COMP%]{background:#242464;color:#fff}.buscar__btn[_ngcontent-%COMP%]:hover{background:#202097}.personajes__container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin:5rem auto;grid-gap:2rem;gap:2rem}"]});const routes=[{path:"",component:HomeComponent}];class HomeRoutingModule{}HomeRoutingModule.\u0275fac=function HomeRoutingModule_Factory(t){return new(t||HomeRoutingModule)},HomeRoutingModule.\u0275mod=core.oAB({type:HomeRoutingModule}),HomeRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});var components_module=__webpack_require__(5642);class HomeModule{}HomeModule.\u0275fac=function HomeModule_Factory(t){return new(t||HomeModule)},HomeModule.\u0275mod=core.oAB({type:HomeModule}),HomeModule.\u0275inj=core.cJS({imports:[[common.ez,HomeRoutingModule,fesm2015_forms.UX,ngx_infinite_scroll.X,components_module.K]]})},2468:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>DataService});var apollo_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7945),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6215),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5257),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2996),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7057),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3342),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(639),apollo_angular__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9904),_favoritos_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7565);const QUERY=apollo_angular__WEBPACK_IMPORTED_MODULE_1__.gql`
{
  episodes{
    results{
      name
      episode
    }
  }
  characters {
    results {
      id
      name
      status
      species
      gender
      created
      origin{
        name
      }
      location{
        name
      }
      image
    }
  }
}`;class DataService{constructor(apollo,favoritosSvc){this.apollo=apollo,this.favoritosSvc=favoritosSvc,this.episodeSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.X(null),this.episodes$=this.episodeSubject.asObservable(),this.charactersSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.X(null),this.characters$=this.charactersSubject.asObservable()}getPersonaje(idPersonaje){const QUERY_BY_ID=apollo_angular__WEBPACK_IMPORTED_MODULE_1__.gql`
          {
            character(id: ${idPersonaje}) {
              id
              name
              status
              species
              gender
              created
              episode{
                name
              }
              origin{
                name
              }
              location{
                name
              }
              image
            }
          }`;return this.apollo.watchQuery({query:QUERY_BY_ID}).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.q)(1))}getNetxPage(pageNum){const QUERY_BY_PAGE=apollo_angular__WEBPACK_IMPORTED_MODULE_1__.gql`
          {
            characters(page: ${pageNum}) {
              results {
                id
                name
                status
                species
                gender
                created
                origin{
                  name
                }
                location{
                  name
                }
                image
              }
            }
          }`;this.apollo.watchQuery({query:QUERY_BY_PAGE}).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.j)("data","characters"),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.M)(this.characters$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.b)(([apiResponse,characters])=>{this.parseNewData([...characters,...apiResponse.results])})).subscribe()}getData(){this.apollo.watchQuery({query:QUERY}).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.b)(({data:{characters:characters,episodes:episodes}})=>{this.episodeSubject.next(episodes.results),this.parseNewData(characters.results)})).subscribe()}parseNewData(characters){const favoritos=this.favoritosSvc.getFavorites(),newData=characters.map(char=>{const isFav=!!favoritos.find(fav=>fav.id===char.id);return{...char,isFavorite:isFav}});this.charactersSubject.next([...newData])}}DataService.\u0275fac=function DataService_Factory(t){return new(t||DataService)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.LFG(apollo_angular__WEBPACK_IMPORTED_MODULE_8__._M),_angular_core__WEBPACK_IMPORTED_MODULE_7__.LFG(_favoritos_service__WEBPACK_IMPORTED_MODULE_0__.I))},DataService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Yz7({token:DataService,factory:DataService.\u0275fac,providedIn:"root"})},7565:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>FavoritosService});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6215),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(639),ngx_toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9344);class FavoritosService{constructor(toastr){this.toastr=toastr,this.charactersFavoritesSubject=new rxjs__WEBPACK_IMPORTED_MODULE_0__.X(null),this.charactersFavorites$=this.charactersFavoritesSubject.asObservable(),this.initialStorage()}initialStorage(){JSON.parse(localStorage.getItem("myfovorites"))||localStorage.setItem("myfovorites",JSON.stringify([])),this.getFavorites()}getFavorites(){try{const charactersFavorites=JSON.parse(localStorage.getItem("myfovorites"));return this.charactersFavoritesSubject.next(charactersFavorites),charactersFavorites}catch(error){return console.error("Error al obtener los favoritos del Local Storage.",error),[]}}toggleFavorito(favorito){favorito.isFavorite=!favorito.isFavorite;this.getFavorites().find(fav=>fav.id===favorito.id)?this.removerFavorito(favorito):this.agregarFavorito(favorito)}agregarFavorito(favorito){try{const favoritos=this.getFavorites();localStorage.setItem("myfovorites",JSON.stringify([...favoritos,favorito])),this.charactersFavoritesSubject.next([...favoritos,favorito]),this.toastr.success("Se agrego a tus Favoritos ",favorito.name,{timeOut:1e3})}catch(error){console.error("Error al guardar el favorito en el Local Storage.",error),this.toastr.error("Error al guardar el favorito en el Local Storage.","Hubo un error",{timeOut:3e3})}}removerFavorito(favorito){try{const favoritosFilter=this.getFavorites().filter(fav=>fav.id!==favorito.id);localStorage.setItem("myfovorites",JSON.stringify(favoritosFilter)),this.charactersFavoritesSubject.next([...favoritosFilter]),this.toastr.warning("Se removio de tus Favoritos ",favorito.name,{timeOut:1e3})}catch(error){console.error("Error al aliminar el favorito en el Local Storage.",error),this.toastr.error("Error al aliminar el favorito en el Local Storage.","Hubo un error",{timeOut:3e3})}}}FavoritosService.\u0275fac=function FavoritosService_Factory(t){return new(t||FavoritosService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(ngx_toastr__WEBPACK_IMPORTED_MODULE_2__._W))},FavoritosService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:FavoritosService,factory:FavoritosService.\u0275fac,providedIn:"root"})}};